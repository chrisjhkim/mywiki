<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- <mapper namespace="me.fleuve.springboot03/dao.UserDAO"> --><!--namespace를 통해 UserDAO와 연결합니다. -->
<mapper namespace="com.chrisjhkim.mysite.dao.BoardDAO">

	<select id="getAllList" resultType="com.chrisjhkim.mysite.vo.Board">
		SELECT 
			*
		FROM board
	</select>
	<select id="getActiveBoardList" parameterType="map" resultType="map">
		SELECT 
			b.contentNo
			, b.title
			, b.content
			, b.regDate
			, b.status
			, users.userId  
		FROM board b 
		LEFT JOIN users ON users.userNo = b.userNo
		WHERE b.status=1
	</select>
	<insert id="insertBoard" parameterType="com.chrisjhkim.mysite.vo.Board">
		INSERT INTO board(
			title
			,content
			,userNo
			,regDate
			,status
		)VALUES(
			#{title}
			,#{content}
			,#{userNo}
			,NOW()
			,1
		)
	</insert>
	<insert id="insertUser" parameterType="com.chrisjhkim.mysite.vo.User">
		INSERT INTO user(
			userId
			,userPassword
			,userName
			,userGender
			,userEmail
		)VALUES(
			#{userId}
			,#{userPassword}
			,#{userName}
			,#{userGender}
			,#{userEmail}
		)
		
	</insert>
	
</mapper>